<p-table [value]="userDetails()" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
        <tr>
            <th>id</th>
            <th>Name</th>
            <th>State</th>
            <th>City</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.state }}</td>
            <td>{{ user.city }}</td>
        </tr>
    </ng-template>
</p-table>

<div class="filter-tables">
    <button (click)="onClearFilter()">Clear Filter</button>
    <label for="name">name</label>
    <input #searchTerm type="text" name="name" (keyup)="onNameFilter(searchTerm.value)">
    @for(filter of filters|keyvalue;track filter){
    <p-table [value]="$any(filter.value)" [tableStyle]="{ 'max-width': '10rem' }">
        <ng-template pTemplate="header">
            <tr>
                <th>{{filter.key}}</th>
            </tr>
        </ng-template>
        <br>
        <br>
        <br>
        <ng-template pTemplate="body" let-userFilter>
            <tr>
                <td>{{userFilter.isToggleOn}}</td>
                <td>{{ userFilter.label }}</td>
                <td><p-inputSwitch [(ngModel)]="userFilter.isToggleOn" (onChange)="onFilter()"></p-inputSwitch>
                </td>
            </tr>
        </ng-template>
    </p-table>
    }
</div>